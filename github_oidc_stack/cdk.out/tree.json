{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.203.1"},"children":{"gitHub-oidc-stackv2":{"id":"gitHub-oidc-stackv2","path":"gitHub-oidc-stackv2","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.203.1"},"children":{"gitHub-oidc-stackv2":{"id":"gitHub-oidc-stackv2","path":"gitHub-oidc-stackv2/gitHub-oidc-stackv2","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.OpenIdConnectProvider","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"gitHub-oidc-stackv2/gitHub-oidc-stackv2/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.203.1","metadata":[]},"children":{"Default":{"id":"Default","path":"gitHub-oidc-stackv2/gitHub-oidc-stackv2/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.203.1"}}}}}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"gitHub-oidc-stackv2/LatestNodeRuntimeMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.203.1"}},"Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider":{"id":"Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider","path":"gitHub-oidc-stackv2/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.203.1"},"children":{"Staging":{"id":"Staging","path":"gitHub-oidc-stackv2/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.203.1"}},"Role":{"id":"Role","path":"gitHub-oidc-stackv2/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.203.1"}},"Handler":{"id":"Handler","path":"gitHub-oidc-stackv2/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.203.1"}}}},"github-action-role":{"id":"github-action-role","path":"gitHub-oidc-stackv2/github-action-role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"Importgithub-action-role":{"id":"Importgithub-action-role","path":"gitHub-oidc-stackv2/github-action-role/Importgithub-action-role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"gitHub-oidc-stackv2/github-action-role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringLike":{"token.actions.githubusercontent.com:sub":"repo:cmalaga-code/demo-data-stack-ci-cd:*"}},"Effect":"Allow","Principal":{"Federated":{"Ref":"gitHuboidcstackv21C922387"}}}],"Version":"2012-10-17"},"description":"Role assumed by GitHub Actions via OIDC","maxSessionDuration":3600,"roleName":"github-actions-deploy-role"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"gitHub-oidc-stackv2/github-action-role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"gitHub-oidc-stackv2/github-action-role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["lambda:*","s3:*","glue:*","states:*","iam:PassRole","iam:GetRole","iam:CreateRole","iam:AttachRolePolicy","iam:PutRolePolicy","iam:DeleteRole","iam:DetachRolePolicy","iam:DeleteRolePolicy","cloudformation:DescribeStacks","ecr:GetAuthorizationToken","ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage","ecr:PutImage","ecr:InitiateLayerUpload","ecr:UploadLayerPart","ecr:CompleteLayerUpload","ecr:CreateRepository","logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents","logs:DescribeLogGroups","logs:DescribeLogStreams","logs:GetLogEvents","cloudformation:CreateStack","cloudformation:UpdateStack","cloudformation:DeleteStack","cloudformation:DescribeStackEvents","cloudformation:GetTemplate","cloudformation:ValidateTemplate","sts:AssumeRole"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"githubactionroleDefaultPolicy61B8DC47","roles":[{"Ref":"githubactionrole8876F5CB"}]}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"gitHub-oidc-stackv2/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"gitHub-oidc-stackv2/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.203.1"}},"Condition":{"id":"Condition","path":"gitHub-oidc-stackv2/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.203.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"gitHub-oidc-stackv2/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.203.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"gitHub-oidc-stackv2/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.203.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}